# 下一步工作建议

## 当前状态概览
- 训练入口 `train.py` 目前只支持 `uncond` 任务分支，并假定存在 `./configs/conf_exchange.toml` 配置文件，但仓库中尚未提供该配置或其它任务实现。
- `model/trainer_uncond.py` 在构建训练循环时依赖 `diffusion` 与 `utils.trainer` 模块，当前仓库缺少这些实现，导致训练流程无法直接运行。
- 数据加载器 `data_process/dataset.py` 需要外部数据文件或预处理后的数组，但仓库中没有示例数据或说明，缺乏复现训练所需的资源。
- 目前没有任何推理/评估脚本、实验日志记录样例或预训练权重，难以验证模型效果或快速进行对比实验。

## 优先级 P0 —— 直接阻塞训练的事项
1. **补齐核心依赖模块**：补充 `diffusion` 目录下的噪声调度器、采样器等实现，以及 `utils/trainer` 中的基础训练器、配置加载与日志工具；若这些模块来自上游项目，建议整理成独立子模块并附带单元测试。
2. **补齐配置文件**：提供最少可运行的 `configs/conf_exchange.toml`（或更新代码以指向正确的默认配置），并在其中写明数据路径、模型/扩散超参、训练时长等。
3. **准备数据示例**：给出一个体积可控的样例数据（或数据准备脚本），说明如何从原始数据生成 `MultichannelTS` 所需的输入，以解除数据缺失导致的训练阻塞。

## 优先级 P1 —— 保障实验可复现性的事项
1. **完善训练说明文档**：在 `README.md` 或新的文档中写明安装步骤、数据准备流程、启动训练与恢复训练的命令行示例，以及常见问题排查方法。
2. **增加验证与推理脚本**：补充独立的评估脚本与推理示例，展示如何使用已训练模型进行滚动预测或可视化结果。
3. **记录实验指标**：在训练循环中集成日志系统（如 TensorBoard、Weights & Biases 或自定义 CSV），并提供示例输出格式，便于后续分析与复现。

## 优先级 P2 —— 提升易用性与扩展性的事项
1. **实现条件扩散训练分支**：在 `train.py` 与 `Trainer` 中补上 `cond` 任务逻辑，并设计相应的数据管线与模型接口。
2. **发布预训练权重**：在仓库或外部链接中提供下载地址，并更新 `README.md` 的 TODO 列表。
3. **补充单元测试与CI**：为关键模块（数据处理、扩散过程、模型前向）添加基础单测，并接入简单的持续集成流程，确保未来修改的稳定性。

## 建议的交付顺序
1. 首先聚焦 P0 项目，确保训练脚本可以在最小数据集上跑通一次完整流程。
2. 随后同步完善文档、评估脚本与日志记录，使得外部贡献者可以独立复现结果。
3. 最后扩展条件任务、发布权重与测试框架，构建长期维护所需的基础设施。

如需更多上下游背景，可在提交补全模块时同时引用原始论文或仓库，帮助审核者快速对照实现。 
